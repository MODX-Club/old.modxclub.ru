

import React, {Component} from 'react';

import IndexView from '../index/';


import Work from '../works/work';


export default class WorkView extends IndexView {


  constructor(props){

    super(props);

  }


  componentDidMount(){

    let {
      setPagetitle,
    } = this.context;

    let {
      object: work,
    } = this.props.document.document && this.props.document.document.data || {}

    // typeof window !== "undefined" && (window.document.title = work.longtitle);

    // browserHistory && browserHistory.replace(browserHistory.getCurrentLocation());

    setPagetitle(`Каталог сайтов. ${work.longtitle}`);

    super.componentDidMount && super.componentDidMount();
  }

  contentBlock(){


    //   data: props.document.document.data && props.document.document.data.object ? props.document.document.data.object : [],

    // var works = this.state.data || [];

    let {
      user,
    } = this.props;

    let {
      object: work,
    } = this.props.document.document && this.props.document.document.data || {}

    // console.log("work", work);

    if(!work){
      return null;
    }
    
    return <Work
      item={work}
      user={user}
      fullwidth={true}
    />;
  }

}

