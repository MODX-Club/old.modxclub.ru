import React from 'react';

import moment from 'moment';

import Pagination from '../../pagination';
import Avatar from '../../Avatar';

// import {DataStore, Dispatcher} from 'react-cms-data-view';
import Table, { TableBody, TableCell, TableHead, TableRow } from 'material-ui/Table';
import Paper from 'material-ui/Paper';

import {Link} from 'react-router-dom';

import SuccessIcon from 'material-ui-icons/Check';
import FailureIcon from 'material-ui-icons/Clear';

import IndexView from '../index/';

import ProfilesList from './list';

export default class ProfilesView extends IndexView {

  constructor(props){

    super(props);

    Object.assign(this.state, {
    	pagetitle: "Пользователи",
    	pageHeader: "Пользователи",
    });
  } 


  // componentDidMount(){

    
  //   this.setState({
  //   	pagetitle: "DSfdsf",
  //   });

  //   return super.componentDidMount && super.componentDidMount();
  // }

  contentBlock(){

  	let {
  		data,
  	} = this.props.document.document || {};

  	// console.log('Profiles', data);

  	let {
  		object: profiles,
  		page,
  		total,
  		limit,
  	} = data || {}

    return profiles && Array.isArray(profiles) && <ProfilesList 
      profiles={profiles}
      page={page}
      limit={limit}
      total={total}
    /> || null;
  }
}
